{% extends base_template %}
{% load static %}

{% block title %}Active Directory Copilot{% endblock %}

{% block dynamic_head_content %}
<link rel="stylesheet" type="text/css" href="{% static 'myview/css/active-directory-copilot.css' %}" />
{% endblock %}

{% block main-content %}
<div class="chat-interface">
    <!-- Sidebar (History Pane) -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>Active Directory Copilot</h2>
            <button id="new-chat-btn">+ New Chat</button>
        </div>
        <!-- Chat Threads -->
        <div class="chat-list" id="chat-list">
            <!-- Chat threads will be populated here -->
        </div>
    </div>

    <!-- Main Chat Window (no right panel) -->
    <div class="chat-window">
        
        <!-- Remove the collapse button and splitter:
             <button id="toggle-chat-detail" class="collapse-btn">&gt;</button>
             <div class="splitter" id="splitter"></div>
             <div class="chat-detail" id="chat-detail">â€¦</div>
             etc.
        -->
        
        <!-- A single .chat-content area for the chat messages -->
        <div class="chat-content">
            <!-- Container for user & assistant messages -->
            <div class="chat-messages" id="chat-messages">
                <div class="messages-container" id="messages-container">
                    <!-- User messages & assistant messages appear here -->
                </div>

                <!-- Input Area -->
                <div class="chat-input">
                    <textarea id="user-input" placeholder="Type your query here..."></textarea>
                    <div class="input-actions">
                        <button id="send-btn">Send</button>
                        <label class="toggle-switch">
                            <input type="checkbox" id="auto-run-toggle">
                            <span class="slider"></span>
                        </label>
                        <span>Auto Run Query</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="module" src="{% static 'myview/js/active-directory-copilot.js' %}" defer></script>
{% endblock %}
